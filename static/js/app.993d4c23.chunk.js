(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{334:function(e){e.exports=JSON.parse('{"a":"0.42.2"}')},335:function(e,t,n){"use strict";var a,r=n(0),c=n.n(r),l=n(276),o=n(277),i=n(336),u=n(24),s=n.n(u),m=n(1),E=n(3),f=n(58),p=n(333),h=n(581),d=n(579),b=n(7),g=n(18),y=n.n(g),v=n(20),S=(a={},y()(a,v.CHAIN_ETHEREUM,"Ethereum"),y()(a,v.CHAIN_BSC,"BSC"),y()(a,v.CHAIN_XDAI,"xDai"),y()(a,v.L2_ZKSYNC,"ZkSync"),a),I=Object.keys(S),w=(Object.values(S),{title:"Stakerwat.ch",credit:"Copyright 2021@Stakerwat.ch",search:"Enter address"}),O=m.a.create({row:{flex:1,flexDirection:"row"}}),C=function(e){e.chainIdx,e.onChangeChainIdx;var t=e.onChangeSearchTerm,n=(e.onSearch,e.term);return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{style:[O.row,{minWidth:360}]},c.a.createElement(b.d,{onChangeText:function(e){return t(e)},placeholder:w.search,value:n})))},T=function(e){return e.startsWith("0x")&&42===e.length},k=function(e){return e.startsWith("0x")&&66===e.length},R=n(52),j=n.n(R),P=n(180),A={row:{flexDirection:"row"},alignSelfCenter:{alignSelf:"center"},selectIconSize:16,selectIconColor:"#d5d5d5",selectIconName:"chevron-with-circle-down",selectIconType:"entypo",buttonMarginRight:{marginRight:4}},_=n(19),x=n.n(_),D=n(332),M=n(183),N=n.n(M);var H=n(77),U=n(47);function L(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=s()(n,2),c=a[0],l=a[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;l(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}var B=function(e){var t=e.term,n=(e.chainId,Object(r.useState)(!1)),a=s()(n,2),l=a[0],o=a[1],i=L("dapp_explorer",v.DEFI_DEBANK),u=s()(i,2),m=u[0],f=u[1],p=function(){return o(!l)};return c.a.createElement(E.a,{style:[A.row,A.alignSelfCenter]},c.a.createElement(b.c,{name:"clipboard",type:A.selectIconType,size:24,onPress:function(){return H.a.openURL((e=t,v.DEFI_EXPLORER_ETHEREUM[m].url(e)));var e},iconStyle:A.buttonMarginRight}),c.a.createElement(b.c,{name:A.selectIconName,type:A.selectIconType,color:A.selectIconColor,size:24,onPress:p}),c.a.createElement(b.f,{ModalComponent:function(){return c.a.createElement(U.a,{animationType:"slide",transparent:!0,visible:l,onRequestClose:p},c.a.createElement(b.b,null,c.a.createElement(b.b.Title,null,"Pick the DAPP Explorer "),c.a.createElement(E.a,{style:[A.row,A.alignSelfCenter]},Object.keys(v.DEFI_EXPLORER_ETHEREUM).map((function(e){var t=v.DEFI_EXPLORER_ETHEREUM[e].name;return c.a.createElement(b.a,{key:e,title:"\ud83c\udfe0 "+t,type:e===m?"solid":"outline",onPress:function(){p(),f(e)},buttonStyle:{marginRight:4}})}))),c.a.createElement(b.a,{title:"Close",icon:{name:"cross",type:"entypo",color:"#2089dc"},iconRight:!0,onPress:p,type:"outline",style:[A.alignSelfCenter,{marginTop:8}]})))}}))};function F(e,t){return new N.a(e).dividedBy(new N.a(10).pow(t))}var z=function(e){var t=e.chainId,n=e.term,a=T(n)&&t===v.CHAIN_ETHEREUM,l=Object(r.useState)([]),o=s()(l,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){!function(){var e,a;x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new D.a(Object(v.getNodeURL)(t)),r.next=3,x.a.awrap(e.getProtocolBalances(n,["Aave","Aave V2","Aave V2 \u2022 Variable Debt","Aave V2 \u2022 Stable Debt","Aave \u2022 Staking","Aave \u2022 Uniswap Market","Uniswap V2","SushiSwap","SushiSwap \u2022 Staking","1inch Liquidity Protocol","1inch LP \u2022 Staking"]));case 3:a=r.sent,u(a);case 5:case"end":return r.stop()}}),null,null,null,Promise)}()}),[t,n]),t===v.CHAIN_ETHEREUM&&a&&0!==i.length?c.a.createElement(E.a,{style:{paddingTop:7,flexDirection:"column"}},c.a.createElement(b.b.Title,null,"DEFI"),c.a.createElement(B,{chainId:t,term:n}),c.a.createElement(b.b.Divider,null),i.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.b.Title,{key:e.metadata.name},e.metadata.name),e.balances.length>0&&e.balances.map((function(e){return c.a.createElement(c.a.Fragment,null,e.balances.map((function(e){var t={Token:e.base.metadata.symbol,Balance:F(e.base.balance.toString(),e.base.metadata.decimals).toString()};if(e.underlying.length>0){var n=[];e.underlying.forEach((function(e){n.push({Component:e.metadata.symbol,Amount:F(e.balance.toString(),e.metadata.decimals).toString()})})),t.Underlying=n}return c.a.createElement(b.e,{key:t.Token},c.a.createElement(b.e.Content,null,c.a.createElement(b.e.Title,null,t.Token," ",t.Balance),c.a.createElement(b.e.Subtitle,null,t.Underlying.map((function(e){return e.Component+" "+e.Amount})).join(" "))))})))})),c.a.createElement(b.b.Divider,null))}))):null},X=function(e){var t=e.term,n=e.chainId,a=Object(r.useState)(!1),l=s()(a,2),o=l[0],i=l[1],u=L(n+"_explorer",v.EXPLORER_MAP[n]&&Object.keys(v.EXPLORER_MAP[n])[0]),m=s()(u,2),f=m[0],p=m[1],h=v.EXPLORER_MAP[n];if(!h)return c.a.createElement(d.b,null,"Explorer Not found");var g,y=[T(g=t),k(g)],I=s()(y,2),w=I[0],O=I[1],C=function(){return i(!o)},R=function(){return w?h[f].address(t):O?h[f].tx(t):""};return R?c.a.createElement(E.a,{style:[A.row,A.alignSelfCenter]},c.a.createElement(b.c,{name:"flashlight",type:A.selectIconType,size:24,onPress:function(){return H.a.openURL(R())},iconStyle:A.buttonMarginRight}),Object.keys(h).length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement(b.c,{name:A.selectIconName,type:A.selectIconType,color:A.selectIconColor,size:24,onPress:C}),c.a.createElement(b.f,{ModalComponent:function(){return c.a.createElement(U.a,{animationType:"slide",transparent:!0,visible:o,onRequestClose:C},c.a.createElement(b.b,null,c.a.createElement(b.b.Title,null,"Pick the ",S[n]," Explorer "),c.a.createElement(E.a,{style:[A.row,A.alignSelfCenter]},Object.keys(h).map((function(e){var t=h[e].name;return c.a.createElement(b.a,{key:e,title:"\ud83c\udfe0 "+t,type:e===f?"solid":"outline",onPress:function(){C(),p(e)},buttonStyle:{marginRight:4}})}))),c.a.createElement(b.a,{title:"Close",icon:{name:"cross",type:"entypo",color:"#2089dc"},iconRight:!0,onPress:C,type:"outline",style:[A.alignSelfCenter,{marginTop:8}]})))}}))):c.a.createElement(d.b,null,"Invalid Address")},J=function(e){var t=e.chainId,n=e.term;return c.a.createElement(c.a.Fragment,null,c.a.createElement(X,{term:n,chainId:t}))},G=function(e){var t=e.chainId,n=e.term,a=[n],r=Object(P.useEthscanBalance)(a,t),l=s()(r,2),o=l[0],i=l[1],u=Object(P.useEthscanTokensBalance)(a,t),m=s()(u,2),f=m[0],p=m[1];if(o||f)return c.a.createElement(b.b,null,c.a.createElement(b.b.Title,null,"\ud83d\udcb0 ",S[t]," Balance"),c.a.createElement(b.b.Divider,null),c.a.createElement(b.e,null,c.a.createElement(b.h,null,"Loading")));var h=[].concat(j()(i),j()(p));return c.a.createElement(b.b,{wrapperStyle:A.row},c.a.createElement(E.a,null,c.a.createElement(b.b.Title,null,"\ud83d\udcb0 ",S[t]," Balance"),c.a.createElement(J,{chainId:t,term:n}),c.a.createElement(b.b.Divider,null),h.length>0&&h.map((function(e){return c.a.createElement(b.e,{key:e.token},c.a.createElement(b.h,null,e.token.padEnd(20," \u200b"),e.balance))}))),c.a.createElement(z,{chainId:t,term:n}))};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={method:"POST",headers:{"Content-Type":"application/json"}},K=function(e,t,n){return e(t,q(q({},W),{},{body:n})).then((function(e){return e.json()}))},Z=1,Y=JSON.stringify({jsonrpc:"2.0",id:Z++,method:"tokens",params:[]}),Q=function(e){var t=e.chainId,n=e.term,a=Object(r.useState)([]),l=s()(a,2),o=l[0],i=l[1],u=[];return Object(r.useEffect)((function(){n&&function(){var e,t,a,r,c,l,o,m,E;x.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return e=[n],t="https://api.zksync.io/jsrpc",f.next=4,x.a.awrap(K(fetch,t,Y));case 4:a=f.sent,r=a.result,c=0;case 7:if(!(c<e.length)){f.next=16;break}return f.next=10,x.a.awrap(K(fetch,t,(p=e[c],JSON.stringify({jsonrpc:"2.0",id:Z++,method:"account_info",params:[p]}))));case 10:m=f.sent,E=(null==(l=m.result)||null==(o=l.committed)?void 0:o.balances)||{},Object.keys(E).length>0&&Object.entries(E).forEach((function(e){var t=s()(e,2),n=t[0],a=t[1];u.push({token:n,balance:(Number(a)/Math.pow(10,r[n].decimals)).toFixed(4),source:""})}));case 13:c++,f.next=7;break;case 16:i(u);case 17:case"end":return f.stop()}var p}),null,null,null,Promise)}()}),[n]),c.a.createElement(b.b,null,c.a.createElement(b.b.Title,null,"\ud83d\udcb0 ",S[t]," Balance"),c.a.createElement(J,{chainId:t,term:n}),c.a.createElement(b.b.Divider,null),o.length>0&&o.map((function(e){return c.a.createElement(b.e,{key:e.token},c.a.createElement(b.h,null,e.token.padEnd(20," \u200b"),e.balance))})))},$=function(){return c.a.createElement(b.b,null,c.a.createElement(b.b.Title,null,"\ud83d\udcb0 Balance"),c.a.createElement(b.b.Divider,null),c.a.createElement(b.e,null,c.a.createElement(b.h,null,"\ud83d\udc77\ud83c\udffb\u200d\u2640\ufe0f Under Construction")))},ee=function(e){var t=e.chainId,n=e.term;if(!(T(n)&&I.includes(t)))return null;switch(t){case v.CHAIN_ETHEREUM:case v.CHAIN_XDAI:case v.CHAIN_BSC:return c.a.createElement(G,{chainId:t,term:n});case v.L2_ZKSYNC:return c.a.createElement(Q,{chainId:t,term:n});default:return c.a.createElement($,null)}},te=function(e){var t=e.chainId,n=void 0===t?v.CHAIN_ETHEREUM:t,a=Object(r.useState)({}),l=s()(a,2),o=l[0],i=l[1],u=Object(r.useState)(!1),m=s()(u,2),f=m[0],p=m[1],h=L("gas",v.GASNOW),g=s()(h,2),y=g[0],S=g[1];if(Object(r.useEffect)((function(){var e=v.GAS_ESTIMATOR_ETHEREUM[y];fetch(e.api).then((function(e){return e.json()})).then((function(t){var n=e.processGasData(t);i(n)}))}),[n,y]),n!==v.CHAIN_ETHEREUM)return null;var I=function(){return p(!f)};return c.a.createElement(d.b,null,"\ud83d\ude80",o.H," \ud83d\ude98",o.M," \ud83d\udeb2",o.L," ",c.a.createElement(b.c,{name:A.selectIconName,type:A.selectIconType,color:A.selectIconColor,size:A.selectIconSize,onPress:I}),c.a.createElement(b.f,{ModalComponent:function(){return c.a.createElement(U.a,{animationType:"slide",transparent:!0,visible:f,onRequestClose:I},c.a.createElement(b.b,null,c.a.createElement(b.b.Title,null,"Pick a Gas Estimator "),c.a.createElement(E.a,{style:[A.row,A.alignSelfCenter]},Object.keys(v.GAS_ESTIMATOR_ETHEREUM).map((function(e){var t=v.GAS_ESTIMATOR_ETHEREUM[e].name;return c.a.createElement(b.a,{key:e,title:"\u26fd\ufe0f "+t,type:y===e?"solid":"outline",onPress:function(){I(),S(e)},buttonStyle:A.buttonMarginRight})}))),c.a.createElement(b.a,{title:"Close",icon:{name:"cross",type:"entypo",color:"#2089dc"},iconRight:!0,onPress:I,type:"outline",style:[A.alignSelfCenter,{marginTop:8}]})))}}))},ne=n(580),ae=function(){return c.a.createElement(b.b,null,c.a.createElement(E.a,{style:{flexDirection:"row-reverse"}},c.a.createElement(b.g,{raised:!1,type:"twitter",onPress:function(){return H.a.openURL("https://twitter.com/stakerwatch")},iconSize:16}),c.a.createElement(b.g,{raised:!1,type:"github",onPress:function(){return H.a.openURL("https://github.com/gasolin/stakerwatch")},iconSize:16}),c.a.createElement(ne.a,null,w.credit)))},re=m.a.create({container:{alignItems:"center",backgroundColor:"white",flex:1,justifyContent:"center"}});function ce(){var e=L("addr",""),t=s()(e,2),n=t[0],a=t[1],r=Object(p.a)().width,l=r>963;return c.a.createElement(E.a,{style:re.container},c.a.createElement(h.b,{style:{alignItems:"center"}},c.a.createElement(d.a,null,w.title),c.a.createElement(te,null)),c.a.createElement(h.c,null,c.a.createElement(C,{term:n,onChangeSearchTerm:a}),c.a.createElement(f.a,{horizontal:l},c.a.createElement(E.a,{style:l?{flexDirection:"row",width:.8*r}:{flexDirection:"column"}},I.map((function(e,t){return c.a.createElement(ee,{key:e,chainId:e,term:n})}))))),c.a.createElement(h.a,null,c.a.createElement(ae,null)))}function le(){return c.a.createElement(i.a,null,c.a.createElement(ce,null))}var oe=n(334);t.a=function(){return console.log("commandline version is available, check https://www.npmjs.com/package/staker"),console.group("versions"),console.log("web v"+oe.a),console.log("staker-freenodes v"+l.a),console.log("staker-contracts v"+o.a),console.groupEnd("versions"),c.a.createElement(le,null)}},337:function(e,t,n){e.exports=n(561)},406:function(e,t){},417:function(e,t){},419:function(e,t){},430:function(e,t){},432:function(e,t){},459:function(e,t){},461:function(e,t){},462:function(e,t){},467:function(e,t){},469:function(e,t){},475:function(e,t){},477:function(e,t){},496:function(e,t){},508:function(e,t){},511:function(e,t){},516:function(e,t){}},[[337,1,2]]]);
//# sourceMappingURL=app.993d4c23.chunk.js.map