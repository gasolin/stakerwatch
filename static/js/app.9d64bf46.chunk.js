(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{333:function(e){e.exports=JSON.parse('{"a":"0.42.2"}')},334:function(e,t,n){"use strict";var a,r=n(0),c=n.n(r),l=n(275),o=n(276),i=n(335),u=n(27),s=n.n(u),m=n(1),E=n(3),f=n(56),p=n(332),h=n(567),d=n(566),b=n(568),g=n(20),y=n(7),v=n(19),S=n.n(v),w=(a={},S()(a,g.CHAIN_ETHEREUM,"Ethereum"),S()(a,g.CHAIN_BSC,"BSC"),S()(a,g.CHAIN_XDAI,"xDai"),S()(a,g.L2_ZKSYNC,"ZkSync"),a),I=Object.keys(w),O=(Object.values(w),{title:"Stakerwat.ch",credit:"Copyright 2021@Stakerwat.ch",search:"Enter address"}),k=m.a.create({row:{flex:1,flexDirection:"row"}}),C=function(e){e.chainIdx,e.onChangeChainIdx;var t=e.onChangeSearchTerm,n=(e.onSearch,e.term);return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{style:[k.row,{minWidth:360}]},c.a.createElement(y.d,{onChangeText:function(e){return t(e)},placeholder:O.search,value:n})))},T=function(e){return e.startsWith("0x")&&42===e.length},j=function(e){return e.startsWith("0x")&&66===e.length},R=n(51),P=n.n(R),A=n(179),x={row:{flexDirection:"row"},alignSelfCenter:{alignSelf:"center"},selectIconSize:16,selectIconColor:"#d5d5d5",selectIconName:"chevron-with-circle-down",selectIconType:"entypo",buttonMarginRight:{marginRight:4}},N=n(10),D=n.n(N),M=n(331),_=n(182),H=n.n(_);var U=n(66),L=function(e){var t=e.term;e.chainId;return c.a.createElement(y.c,{name:"database",type:x.selectIconType,size:24,onPress:function(){return U.a.openURL("https://debank.com/portfolio/"+t)},buttonStyle:x.buttonMarginRight})};function B(e,t){return new H.a(e).dividedBy(new H.a(10).pow(t))}var G=function(e){var t=e.chainId,n=e.term,a=T(n)&&t===g.CHAIN_ETHEREUM,l=Object(r.useState)([]),o=s()(l,2),i=o[0],u=o[1];return Object(r.useEffect)((function(){!function(){var e,a;D.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new M.a(Object(g.getNodeURL)(t)),r.next=3,D.a.awrap(e.getProtocolBalances(n,["Aave","Aave V2","Aave V2 \u2022 Variable Debt","Aave V2 \u2022 Stable Debt","Aave \u2022 Staking","Aave \u2022 Uniswap Market","Uniswap V2","SushiSwap","SushiSwap \u2022 Staking","1inch Liquidity Protocol","1inch LP \u2022 Staking"]));case 3:a=r.sent,u(a);case 5:case"end":return r.stop()}}),null,null,null,Promise)}()}),[t,n]),t===g.CHAIN_ETHEREUM&&a&&0!==i.length?c.a.createElement(E.a,{style:{paddingTop:7,flexDirection:"column"}},c.a.createElement(y.b.Title,null,"DEFI"),c.a.createElement(L,{chainId:t,term:n}),c.a.createElement(y.b.Divider,null),i.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.b.Title,{key:e.metadata.name},e.metadata.name),e.balances.length>0&&e.balances.map((function(e){return c.a.createElement(c.a.Fragment,null,e.balances.map((function(e){var t={Token:e.base.metadata.symbol,Balance:B(e.base.balance.toString(),e.base.metadata.decimals).toString()};if(e.underlying.length>0){var n=[];e.underlying.forEach((function(e){n.push({Component:e.metadata.symbol,Amount:B(e.balance.toString(),e.metadata.decimals).toString()})})),t.Underlying=n}return c.a.createElement(y.e,{key:t.Token},c.a.createElement(y.e.Content,null,c.a.createElement(y.e.Title,null,t.Token," ",t.Balance),c.a.createElement(y.e.Subtitle,null,t.Underlying.map((function(e){return e.Component+" "+e.Amount})).join(" "))))})))})),c.a.createElement(y.b.Divider,null))}))):null},z=n(50);function F(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=s()(n,2),c=a[0],l=a[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;l(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}var J=function(e){var t=e.term,n=e.chainId,a=Object(r.useState)(!1),l=s()(a,2),o=l[0],i=l[1],u=F(n+"_explorer",g.EXPLORER_MAP[n]&&Object.keys(g.EXPLORER_MAP[n])[0]),m=s()(u,2),f=m[0],p=m[1],h=g.EXPLORER_MAP[n];if(!h)return c.a.createElement(d.b,null,"Explorer Not found");var b,v=[T(b=t),j(b)],S=s()(v,2),I=S[0],O=S[1],k=function(){return i(!o)},C=function(){return I?h[f].address(t):O?h[f].tx(t):""};return C?c.a.createElement(E.a,{style:[x.row,x.alignSelfCenter]},c.a.createElement(y.c,{name:"flashlight",type:x.selectIconType,size:24,onPress:function(){return U.a.openURL(C())},iconStyle:x.buttonMarginRight}),Object.keys(h).length>1&&c.a.createElement(c.a.Fragment,null,c.a.createElement(y.c,{name:x.selectIconName,type:x.selectIconType,color:x.selectIconColor,size:24,onPress:k}),c.a.createElement(y.f,{ModalComponent:function(){return c.a.createElement(z.a,{animationType:"slide",transparent:!0,visible:o,onRequestClose:k},c.a.createElement(y.b,null,c.a.createElement(y.b.Title,null,"Pick the ",w[n]," Explorer "),c.a.createElement(E.a,{style:[x.row,x.alignSelfCenter]},Object.keys(h).map((function(e){var t=h[e].name;return c.a.createElement(y.a,{key:e,title:"\ud83c\udfe0 "+t,type:e===f?"solid":"outline",onPress:function(){k(),p(e)},buttonStyle:{marginRight:4}})}))),c.a.createElement(y.a,{title:"Close",icon:{name:"cross",type:"entypo",color:"#2089dc"},iconRight:!0,onPress:k,type:"outline",style:[x.alignSelfCenter,{marginTop:8}]})))}}))):c.a.createElement(d.b,null,"Invalid Address")},V=function(e){var t=e.chainId,n=e.term;return c.a.createElement(c.a.Fragment,null,c.a.createElement(J,{term:n,chainId:t}))},W=function(e){var t=e.chainId,n=e.term,a=[n],r=Object(A.useEthscanBalance)(a,t),l=s()(r,2),o=l[0],i=l[1],u=Object(A.useEthscanTokensBalance)(a,t),m=s()(u,2),f=m[0],p=m[1];if(o||f)return c.a.createElement(y.b,null,c.a.createElement(y.b.Title,null,"\ud83d\udcb0 ",w[t]," Balance"),c.a.createElement(y.b.Divider,null),c.a.createElement(y.e,null,c.a.createElement(y.h,null,"Loading")));var h=[].concat(P()(i),P()(p));return c.a.createElement(y.b,{wrapperStyle:x.row},c.a.createElement(E.a,null,c.a.createElement(y.b.Title,null,"\ud83d\udcb0 ",w[t]," Balance"),c.a.createElement(V,{chainId:t,term:n}),c.a.createElement(y.b.Divider,null),h.length>0&&h.map((function(e){return c.a.createElement(y.e,{key:e.token},c.a.createElement(y.h,null,e.token.padEnd(20," \u200b"),e.balance))}))),c.a.createElement(G,{chainId:t,term:n}))};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={method:"POST",headers:{"Content-Type":"application/json"}},K=function(e,t,n){return e(t,q(q({},Z),{},{body:n})).then((function(e){return e.json()}))},Y=1,Q=JSON.stringify({jsonrpc:"2.0",id:Y++,method:"tokens",params:[]}),$=function(e){var t=e.chainId,n=e.term,a=Object(r.useState)([]),l=s()(a,2),o=l[0],i=l[1],u=[];return Object(r.useEffect)((function(){n&&function(){var e,t,a,r,c,l,o,m,E;D.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return e=[n],t="https://api.zksync.io/jsrpc",f.next=4,D.a.awrap(K(fetch,t,Q));case 4:a=f.sent,r=a.result,c=0;case 7:if(!(c<e.length)){f.next=16;break}return f.next=10,D.a.awrap(K(fetch,t,(p=e[c],JSON.stringify({jsonrpc:"2.0",id:Y++,method:"account_info",params:[p]}))));case 10:m=f.sent,E=(null==(l=m.result)||null==(o=l.committed)?void 0:o.balances)||{},Object.keys(E).length>0&&Object.entries(E).forEach((function(e){var t=s()(e,2),n=t[0],a=t[1];u.push({token:n,balance:(Number(a)/Math.pow(10,r[n].decimals)).toFixed(4),source:""})}));case 13:c++,f.next=7;break;case 16:i(u);case 17:case"end":return f.stop()}var p}),null,null,null,Promise)}()}),[n]),c.a.createElement(y.b,null,c.a.createElement(y.b.Title,null,"\ud83d\udcb0 ",w[t]," Balance"),c.a.createElement(V,{chainId:t,term:n}),c.a.createElement(y.b.Divider,null),o.length>0&&o.map((function(e){return c.a.createElement(y.e,{key:e.token},c.a.createElement(y.h,null,e.token.padEnd(20," \u200b"),e.balance))})))},ee=function(){return c.a.createElement(y.b,null,c.a.createElement(y.b.Title,null,"\ud83d\udcb0 Balance"),c.a.createElement(y.b.Divider,null),c.a.createElement(y.e,null,c.a.createElement(y.h,null,"\ud83d\udc77\ud83c\udffb\u200d\u2640\ufe0f Under Construction")))},te=function(e){var t=e.chainId,n=e.term;if(!(T(n)&&I.includes(t)))return null;switch(t){case g.CHAIN_ETHEREUM:case g.CHAIN_XDAI:case g.CHAIN_BSC:return c.a.createElement(W,{chainId:t,term:n});case g.L2_ZKSYNC:return c.a.createElement($,{chainId:t,term:n});default:return c.a.createElement(ee,null)}},ne=function(e){var t=e.chainId,n=void 0===t?g.CHAIN_ETHEREUM:t,a=e.gasEstimator,l=void 0===a?g.GASNOW:a,o=e.setGasEstimator,i=Object(r.useState)({}),u=s()(i,2),m=u[0],f=u[1],p=Object(r.useState)(!1),h=s()(p,2),b=h[0],v=h[1];if(Object(r.useEffect)((function(){var e=g.GAS_ESTIMATOR_ETHEREUM[l];fetch(e.api).then((function(e){return e.json()})).then((function(t){var n=e.processGasData(t);f(n)}))}),[n,l]),n!==g.CHAIN_ETHEREUM)return null;var S=function(){return v(!b)};return c.a.createElement(d.b,null,"\ud83d\ude80",m.H," \ud83d\ude98",m.M," \ud83d\udeb2",m.L," ",c.a.createElement(y.c,{name:x.selectIconName,type:x.selectIconType,color:x.selectIconColor,size:x.selectIconSize,onPress:S}),c.a.createElement(y.f,{ModalComponent:function(){return c.a.createElement(z.a,{animationType:"slide",transparent:!0,visible:b,onRequestClose:S},c.a.createElement(y.b,null,c.a.createElement(y.b.Title,null,"Pick a Gas Estimator "),c.a.createElement(E.a,{style:[x.row,x.alignSelfCenter]},Object.keys(g.GAS_ESTIMATOR_ETHEREUM).map((function(e){var t=g.GAS_ESTIMATOR_ETHEREUM[e].name;return c.a.createElement(y.a,{key:e,title:"\u26fd\ufe0f "+t,type:l===e?"solid":"outline",onPress:function(){S(),o(e)},buttonStyle:x.buttonMarginRight})}))),c.a.createElement(y.a,{title:"Close",icon:{name:"cross",type:"entypo",color:"#2089dc"},iconRight:!0,onPress:S,type:"outline",style:[x.alignSelfCenter,{marginTop:8}]})))}}))},ae=n(21),re=function(){return c.a.createElement(y.b,null,c.a.createElement(ae.a,null,"Stakerwat.ch is rising funding in Gitcoin Grant 9."),c.a.createElement(d.c,{style:{color:"blue",alignSelf:"center"},onPress:function(){return U.a.openURL("https://gitcoin.co/grants/1664/stakerwatch")}},"Support Us Here"),c.a.createElement(y.b.Divider,null),c.a.createElement(E.a,{style:{flexDirection:"row-reverse"}},c.a.createElement(y.g,{raised:!1,type:"twitter",onPress:function(){return U.a.openURL("https://twitter.com/stakerwatch")},iconSize:16}),c.a.createElement(y.g,{raised:!1,type:"github",onPress:function(){return U.a.openURL("https://github.com/gasolin/stakerwatch")},iconSize:16})))},ce=m.a.create({container:{alignItems:"center",backgroundColor:"white",flex:1,justifyContent:"center"}});function le(){var e=F("addr",""),t=s()(e,2),n=t[0],a=t[1],r=F("gas",g.GASNOW),l=s()(r,2),o=l[0],i=l[1],u=Object(p.a)().width,m=u>963;return c.a.createElement(E.a,{style:ce.container},c.a.createElement(h.b,{style:{alignItems:"center"}},c.a.createElement(d.a,null,O.title),c.a.createElement(ne,{gasEstimator:o,setGasEstimator:i})),c.a.createElement(h.c,null,c.a.createElement(C,{term:n,onChangeSearchTerm:a}),c.a.createElement(f.a,{horizontal:m},c.a.createElement(E.a,{style:m?{flexDirection:"row",width:.8*u}:{flexDirection:"column"}},I.map((function(e,t){return c.a.createElement(te,{key:e,chainId:e,term:n})})))),c.a.createElement(re,null)),c.a.createElement(h.a,null,c.a.createElement(b.a,null,O.credit)))}function oe(){return c.a.createElement(i.a,null,c.a.createElement(le,null))}var ie=n(333);t.a=function(){return console.log("commandline version is available, check https://www.npmjs.com/package/staker"),console.group("versions"),console.log("web v"+ie.a),console.log("staker-freenodes v"+l.a),console.log("staker-contracts v"+o.a),console.groupEnd("versions"),c.a.createElement(oe,null)}},336:function(e,t,n){e.exports=n(548)},400:function(e,t){},411:function(e,t){},413:function(e,t){},424:function(e,t){},426:function(e,t){},453:function(e,t){},455:function(e,t){},456:function(e,t){},461:function(e,t){},463:function(e,t){},469:function(e,t){},471:function(e,t){},490:function(e,t){},502:function(e,t){},505:function(e,t){},510:function(e,t){}},[[336,1,2]]]);
//# sourceMappingURL=app.9d64bf46.chunk.js.map